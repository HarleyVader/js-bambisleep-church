<%- include('../partials/header') %>

<main>
    <div class="container">
        <section class="feed-section">
            <h1>Community Feed</h1>
            <p>Latest community submissions and updates.</p>
            
            <div class="feed-container">
                <% if (links && links.length > 0) { %>
                    <% links.forEach(link => { %>
                        <div class="feed-item">
                            <h3><%= link.title || 'Untitled' %></h3>
                            <% if (link.url) { %>
                                <a href="<%= link.url %>" target="_blank" class="feed-link">Visit Link</a>
                            <% } %>
                            <% if (link.description) { %>
                                <p><%= link.description %></p>
                            <% } %>
                            <div class="feed-meta">
                                <span>Votes: <%= link.votes || 0 %></span>
                                <span>Views: <%= link.views || 0 %></span>
                                <% if (link.category) { %>
                                    <span>Category: <%= link.category %></span>
                                <% } %>
                            </div>
                        </div>
                    <% }) %>
                <% } else { %>
                    <div class="no-content">
                        <p>No content available yet. <a href="/submit">Submit the first link!</a></p>
                    </div>
                <% } %>
            </div>
        </section>
    </div>
</main>

<%- include('../partials/footer') %>
