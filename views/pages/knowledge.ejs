<%- include('../partials/header') %>

<section class="knowledge-header">
  <h2>Knowledge Base</h2>
  <p>Explore <%= knowledge.length %> curated resources about BambiSleep</p>
</section>

<section class="knowledge-list">
  <% if (knowledge && knowledge.length > 0) { %>
  <div class="knowledge-grid">
    <% knowledge.forEach((item, index) => { %>
    <div class="knowledge-card">
      <div class="knowledge-meta">
        <span class="category <%= item.category %>"><%= item.category %></span>
        <% if (item.platform) { %>
        <span class="platform"><%= item.platform %></span>
        <% } %>
      </div>
      <h3><a href="<%= item.url %>" target="_blank"><%= item.title %></a></h3>
      <p><%= item.description %></p>
      <div class="knowledge-footer">
        <span class="relevance">Relevance: <%= item.relevance %>/10</span>
        <% if (item.addedAt) { %>
        <span class="date">Added: <%= new Date(item.addedAt).toLocaleDateString() %></span>
        <% } %>
      </div>
    </div>
    <% }); %>
  </div>
  <% } else { %>
  <div class="empty-state">
    <p>No knowledge entries found.</p>
  </div>
  <% } %>
</section>

<%- include('../partials/footer') %>
